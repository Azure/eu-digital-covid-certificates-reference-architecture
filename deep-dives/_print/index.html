<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.87.0" /><link rel="canonical" type="text/html" href="/deep-dives/">
<link rel="alternate" type="application/rss&#43;xml" href="/deep-dives/index.xml">
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Deep Dives | EU Digital COVID Certificate - Azure Reference Architecture</title>


  
  <meta name="description" content="">
<meta property="og:title" content="Deep Dives" />
<meta property="og:description" content="An example of the EU Digital COVID Certificate system on Azure" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/deep-dives/" /><meta property="og:site_name" content="EU Digital COVID Certificate - Azure Reference Architecture" />

<meta itemprop="name" content="Deep Dives">
<meta itemprop="description" content="An example of the EU Digital COVID Certificate system on Azure"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Deep Dives"/>
<meta name="twitter:description" content="An example of the EU Digital COVID Certificate system on Azure"/>




<link rel="preload" href="/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css" as="style">
<link href="/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>










  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="text-uppercase font-weight-bold">EU Digital COVID Certificate - Azure Reference Architecture</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.ee68b8c22aa5a7082a7bee2e22352d12.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/deep-dives/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Deep Dives</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-47ee9e1ad9b64d3297b0c2eaaa7cbea4">Private Link</a></li>


    
  
    
    
	
<li>2: <a href="#pg-d5987f444d597a1e20168e2286f6b23e">Key Vault</a></li>


    
  
    
    
	
<li>3: <a href="#pg-5f2f1fd4118064f69fccd19c66512246">Customer Managed Keys</a></li>


    
  
    
    
	
<li>4: <a href="#pg-9d8b3a78c22c5b3f91d2d50532b657ad">AAD authentication</a></li>


    
  
    
    
	
<li>5: <a href="#pg-a169c7f5e8566e46f73dcc12b00ec4ca">Azure Log Analytics</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-47ee9e1ad9b64d3297b0c2eaaa7cbea4">1 - Private Link</h1>
    <div class="lead">Deep Dive into Private Link</div>
	<h2 id="private-link">Private Link</h2>
<p>Azure Private Link enables you to access Azure PaaS Services and Azure-hosted customer-owned/partner services over a Private Endpoint in your virtual network.
Traffic between your virtual network and the service traverses over the Microsoft backbone network, eliminating exposure from the public Internet.
You can also create your own Private Link Service in your virtual network and deliver it privately to your customers.</p>
<p>This reference architecture utilizes Private Link&rsquo;s security &amp; privacy benefiting from eliminating exposure from the public Internet and
opting into the whole infrastructure being inaccessible from the Internet, apart from a jump-box and ingress functionality.</p>
<h2 id="private-link-resources">Private Link Resources</h2>
<p>The following table lists all Resources in both EU and IE regions Private Link Networks.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>DNS Zone</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACR</td>
<td>privatelink.azurecr.io</td>
</tr>
<tr>
<td>AKS</td>
<td>privatelink.<code>&lt;region location&gt;</code>.azmk8s.io</td>
</tr>
<tr>
<td>Key Vault</td>
<td>privatelink.vaultcore.azure.net</td>
</tr>
<tr>
<td>MySQL Server</td>
<td>privatelink.mysql.database.azure.com</td>
</tr>
</tbody>
</table>
<p>Read about <a href="/deep-dives/key-vault/">Key Vault</a> in the next section.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d5987f444d597a1e20168e2286f6b23e">2 - Key Vault</h1>
    <div class="lead">Deep Dive into Key Vault</div>
	<h2 id="background-and-further-reading">Background and Further Reading</h2>
<p>Azure Key Vault is a cloud service for securely storing and accessing secrets. A secret is anything that you want to tightly control access to, such as API keys, passwords, certificates, or cryptographic keys.</p>
<p>For more information on Azure Key Vault please refer to the <a href="https://docs.microsoft.com/en-us/azure/key-vault/">product documentation</a>.</p>
<h3 id="azure-key-vault-rbac">Azure Key Vault RBAC</h3>
<p>This reference architecture&rsquo;s implementation of Azure Key Vault has enabled RBAC authorization as standard. Azure Key Vault RBAC is a new feature (~Feb 2021) which provides the ability to have separate permissions on individual keys, secrets, and certificates. This reduces the number of Key Vaults needed to maintain minimal access rights.</p>
<p>For more information on Azure Key Vault RBAC please refer to the <a href="https://docs.microsoft.com/en-gb/azure/key-vault/general/rbac-guide">product documentation</a>.</p>
<h3 id="azure-spring-propertysource">Azure Spring PropertySource</h3>
<p>Each of the upstream Spring based applications has been configured to use a Azure Key Vault Spring PropertySource. This allows the applications to load certain Spring properties from Key Vault, however it requires us to use a specific naming pattern for the KeyVault items. The table below shows which naming pattern is used for each key.</p>
<p>See the <a href="https://github.com/Azure/azure-sdk-for-java/tree/3f31d68eed6fbe11516ca3afe3955c8840a6e974/sdk/spring/azure-spring-boot-starter-keyvault-secrets">Azure Key Vault Secrets Spring Boot starter client library for Java documentation</a> and <a href="https://github.com/Azure/azure-sdk-for-java/blob/3f31d68eed6fbe11516ca3afe3955c8840a6e974/sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/keyvault/KeyVaultOperation.java#L165-L177">algorithm</a> for more details.</p>
<h3 id="azure-key-vault-provider-for-secrets-store-csi-driver-aks">Azure Key Vault Provider for Secrets Store CSI Driver (AKS)</h3>
<p>The Azure Key Vault provider for Secrets Store CSI driver allows us to get secret contents stored in an Azure Key Vault instance and use the Secrets Store CSI driver interface to mount them into Kubernetes Pods.</p>
<p>This reference architecture uses this CSI Driver to mount the various certificates into the approperiate Kubernetes Pod&rsquo;s filesystem. This method was chosen as it reduced the number of upstream code changes necessary, however, ideally this would be replaced with direct integration with Key Vault, discussed in the next section below.</p>
<p>For more information on this CSI driver please refer to the <a href="https://github.com/Azure/secrets-store-csi-driver-provider-azure">upstream documentation</a>.</p>
<h3 id="future-direct-integration-of-key-vault-into-the-upstream-applications">Future: Direct integration of Key Vault into the upstream applications</h3>
<p>Ideally, each of the upstream applications would never require access to read the various certificate private keys from Key Vault and they would instead integrate directly with the Key Vault sigining APIs. This would significantly reduce the risk of accidentally exposing private keys in the event of a misconfigration, malware, breach or other security incident by storing the Private Keys in a non-exportable HSM backed key.</p>
<p>Due to the number of changes that would be necessary to the upstream codebase, we chose to not implement this as part of this reference architecture, however we would recommend this be implemented for any production workloads.</p>
<h2 id="eu-key-vault">EU Key Vault</h2>
<p>The following table lists all items in the EU Key Vault, along with a short description of their purpose.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Naming Scheme</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>trustanchor</td>
<td>Certificate</td>
<td>Freeform</td>
<td>Root Certificate Authority (CA) Private Key and Certificate bundle</td>
</tr>
<tr>
<td>dgc-trustanchor-certificatealias</td>
<td>Secret</td>
<td>Spring PropertySource</td>
<td>The certificate alias to use from within the trustanchor bundle</td>
</tr>
<tr>
<td>mysql-pw</td>
<td>Secret</td>
<td>Freeform</td>
<td>The Azure MySQL Administrative User Password. Unused by the Reference Architecture, however may be necessary for day to day opereations in a production environment</td>
</tr>
<tr>
<td>mysql-encryption-key</td>
<td>Key</td>
<td>Freeform</td>
<td>Encryption key used for <a href="https://docs.microsoft.com/en-us/azure/mysql/concepts-data-encryption-mysql">Azure MySQL Customer Managed Key</a></td>
</tr>
<tr>
<td>aks-encryption-key</td>
<td>Key</td>
<td>Freeform</td>
<td>Encryption key used for <a href="https://docs.microsoft.com/en-us/azure/aks/azure-disk-customer-managed-keys">Azure Kubernetes Service Customer Managed Key</a></td>
</tr>
</tbody>
</table>
<h2 id="ie-key-vault">IE Key Vault</h2>
<p>The following table lists all items in the IE Key Vault, along with a short description of their purpose.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Naming Scheme</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>trustanchor-content</td>
<td>Secret</td>
<td>Freeform</td>
<td>Root Certificate Authority (CA) Private Key and Certificate bundle</td>
</tr>
<tr>
<td>dgc-gateway-connector-trustanchor-password</td>
<td>Secret</td>
<td>Spring PropertySource</td>
<td>Password for the trustanchor bundle</td>
</tr>
<tr>
<td>dgc-gateway-connector-trustanchor-alias</td>
<td>Secret</td>
<td>Spring PropertySource</td>
<td>The certificate alias to use from within the trustanchor bundle</td>
</tr>
<tr>
<td>msal-authentication-client-secret</td>
<td>Secret</td>
<td>Freeform</td>
<td>The Application Client Secret used for AAD Authentication on the Issuance Web Portal</td>
</tr>
<tr>
<td>tls-trust-store-content</td>
<td>Secret</td>
<td>Freeform</td>
<td>The TLS Trust Store bundle in PKCS #12 format. This is used for <a href="https://en.wikipedia.org/wiki/HTTP_Public_Key_Pinning">HTTP Public Key Pinning</a> on all HTTP connections.</td>
</tr>
<tr>
<td>dgc-gateway-connector-tlstruststore-password</td>
<td>Secret</td>
<td>Spring PropertySource</td>
<td>Password for the TLS Trust Store bundle</td>
</tr>
<tr>
<td>tls-key-store</td>
<td>Certificate</td>
<td>Freeform</td>
<td>The TLS Key Store bundle contains the Auth certificate which is used to Authenticate a country to the EU Gateway</td>
</tr>
<tr>
<td>dgc-gateway-connector-tlskeystore-alias</td>
<td>Secret</td>
<td>Spring PropertySource</td>
<td>The certificate alias to use from within the TLS Key Store bundle</td>
</tr>
<tr>
<td>upload-key-store</td>
<td>Certificate</td>
<td>Freeform</td>
<td>The Upload Key Store bundle contains the Upload certificate which is used to sign uploads from a country to the EU Gateway</td>
</tr>
<tr>
<td>dgc-gateway-connector-uploadkeystore-alias</td>
<td>Secret</td>
<td>Spring PropertySource</td>
<td>The certificate alias to use from within the Upload Key Store bundle</td>
</tr>
<tr>
<td>dsc-key-store</td>
<td>Certificate</td>
<td>Freeform</td>
<td>The DSC Key Store bindle contains the Document Signer Certificates which are used to sign end user Digital Covid Certificates</td>
</tr>
<tr>
<td>issuance-certalias</td>
<td>Secret</td>
<td>Spring PropertySource</td>
<td>The certificate alias to use from within the DSC Key Store bindle</td>
</tr>
<tr>
<td>mysql-pw</td>
<td>Secret</td>
<td>Freeform</td>
<td>The Azure MySQL Administrative User Password. Unused by the Reference Architecture, however may be necessary for day to day operations in a production environment</td>
</tr>
<tr>
<td>mysql-encryption-key</td>
<td>Key</td>
<td>Freeform</td>
<td>Encryption key used for <a href="https://docs.microsoft.com/en-us/azure/mysql/concepts-data-encryption-mysql">Azure MySQL Customer Managed Key</a></td>
</tr>
<tr>
<td>aks-encryption-key</td>
<td>Key</td>
<td>Freeform</td>
<td>Encryption key used for <a href="https://docs.microsoft.com/en-us/azure/aks/azure-disk-customer-managed-keys">Azure Kubernetes Service Customer Managed Key</a></td>
</tr>
</tbody>
</table>
<p>Read about <a href="/deep-dives/cmk/">Customer managed keys</a> in the next section.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5f2f1fd4118064f69fccd19c66512246">3 - Customer Managed Keys</h1>
    <div class="lead">Deep Dive into Customer Managed Keys</div>
	<h2 id="customer-managed-keys">Customer Managed Keys</h2>
<p>Service Encryption provides a layer of encryption for customer data-at-rest giving customers two options for encryption key management: Microsoft-managed keys or Customer-managed Key. When using Microsoft-managed keys, Microsoft online services automatically generate and securely store the root keys used for Service Encryption.</p>
<p>Customers with requirements to control their own root encryption keys can use Service Encryption with Customer-managed Key. Using Customer-managed Key, customers can generate their own cryptographic keys using either an on-premises Hardware Service Module (HSM) or Azure Key Vault (AKV). Customer root keys are stored in AKV, where they can be used as the root of one of the keychains that encrypts customer files. Customer root keys can only be accessed indirectly by Microsoft online service code for data encryption and cannot be accessed directly by Microsoft employees.</p>
<p>We use CMK to ensure that the cloud provider does not have access to the medical information of the citizens how have Digital COVID Certs issued by this system.</p>
<p>We have the Key Vault service generate the 2 keys used (details below) in a HSM backed key slot, ensuring the key is generated in a HSM and it cannot be exported from the HSM by the customer, or the cloud provider, and we grant limited access to the keys for the services that need access to use them. This means that the AKS service has access to the AKS key, but not the MySQL key, and visa versa. We also restrict the operations on this key to the bare minimum - so this key will only be able to wrap and unwrap other keys.</p>
<h3 id="mysql">MySQL</h3>
<p>The MySQL server has its data encrypted by a Data Encryption Key (DEK), which itself is encrypted by a Key Encryption Key, which is stored in Key Vault, and has access controls applied to it.
These controls mean that if the MySQL server Managed Identity has its access revoked, it can no longer access the DEK, which means it cannot access the encrypted data.</p>
<p>There is more documentation for this here - <a href="https://docs.microsoft.com/en-us/azure/mysql/concepts-data-encryption-mysql">Azure Documentation</a></p>
<h3 id="aks">AKS</h3>
<p>For AKS we have enabled encryption of Kubernetes Persistent Volumes (using the Azure Disks Storage Class), and the OS Disks, using a CMK.</p>
<p>This ensures any data stored in Kubernetes is encrypted at rest, using a DEK that has been wrapped by a KEK, that is stored in the Key Vault.
Revoking the AKS clusters managed identity&rsquo;s access to the key will mean that AKS can no longer decrypt the key, and as such cannot decrypt the data.</p>
<p>There is more documentation for this here - <a href="https://docs.microsoft.com/en-us/azure/aks/azure-disk-customer-managed-keys">Azure Documentation</a></p>
<h3 id="key-vault-options">Key Vault Options</h3>
<p>For this example we chose a Key Vault Premium instance and used HSM backed keys for the KEK, that are generated on the HSM.
This gives a good level of protection from the KEK being leaked (as it never leaves the HSM), but may not fufil specific FIPS level requirements, or other regulations.
For these cases, a <a href="https://docs.microsoft.com/en-us/azure/key-vault/managed-hsm/overview">Managed HSM</a> may be required.</p>
<p>This can support importing KEKs from an <a href="https://docs.microsoft.com/en-us/azure/key-vault/managed-hsm/hsm-protected-keys-byok">onsite HSM</a> that ensures the import
never leaves a HSM boundary, while allowing customers to have secure external backups of the key.</p>
<p>As Managed HSMs use a similar API to Key Vault, any changes needed to  use a Managed HSM would be minimal.</p>
<p>For lower security requirements, software backed encryption keys can also be used for CMK, for reduced cost, and easier, but less secure backup.</p>
<h3 id="table-of-service-which-use-customer-managed-keys">Table of Service which Use Customer-Managed Keys</h3>
<table>
<thead>
<tr>
<th>Service</th>
<th>Key Name</th>
<th>Key role assignment scope</th>
<th>Key Type</th>
<th>Key Size</th>
<th>Key Options</th>
</tr>
</thead>
<tbody>
<tr>
<td>AKS</td>
<td>aks-encryption-key</td>
<td>AKS User Assigned Identity</td>
<td>RSA-HSM</td>
<td>2048</td>
<td>unwrapKey, wrapKey</td>
</tr>
<tr>
<td>MySQL Server</td>
<td>mysql-encryption-key</td>
<td>MySQL Server System Assigned Identity</td>
<td>RSA-HSM</td>
<td>2048</td>
<td>unwrapKey, wrapKey</td>
</tr>
</tbody>
</table>
<p>Read about <a href="/deep-dives/aad/">AAD configuration</a> in the next section.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9d8b3a78c22c5b3f91d2d50532b657ad">4 - AAD authentication</h1>
    <div class="lead">Deep Dive into AAD authentication</div>
	<h2 id="azure-active-directory-aad-authentication">Azure Active Directory (AAD) Authentication</h2>
<p>This reference architecture utilises Azure Active Directory (AAD) for Authentication where possible to do so.
Fortifying the integrity of the whole system by removing stored passwords. User accounts and <a href="https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview">Managed Identities</a> are used through and reference architecture in place of passwords.</p>
<h3 id="aad-authentication-for-azure-kubernetes-service">AAD authentication for Azure Kubernetes Service</h3>
<p>Within Azure Kubernetes Service (AKS), <a href="https://github.com/Azure/aad-pod-identity#readme">AAD Pod Identity</a> enables Kubernetes applications to access cloud resources securely with Azure Active Directory.</p>
<p>Using Kubernetes primitives, administrators configure identities and bindings to match pods. Then without any code modifications, your containerized applications can leverage any resource in the cloud that depends on AAD as an identity provider.</p>
<p>This reference architecture uses AAD Pod Identity on all AKS Pods.</p>
<p>Each AKS Pod has a managed identity which has been granted least privilege rights to the resources it consumes, for example, single secret RBAC grants within <a href="/deep-dives/aad/#key-vault">Key Vault</a> or single database access within <a href="/deep-dives/aad/#mysql">Azure Database for MySQL</a>.</p>
<h3 id="key-vault">AAD authentication for Key Vault</h3>
<p>Key Vault is configured to use RBAC based on AAD, please refer to the <a href="/deep-dives/key-vault/">Key Vault</a> section for more information.</p>
<h3 id="mysql">AAD authentication for Azure Database for MySQL</h3>
<p>Authentication to Databases' with static passwords or shared credentials stored in internal systems may be a security and privacy risk,
as credentials may become exposed due to over sharing the passwords to other parties or not being having a short rotation policy.</p>
<p>This reference architecture implements AAD authentication for MySQL on all deployed MySQL servers which enables authentication
via short life tokens instead of passwords for applications connecting to Azure Database for MySQL.</p>
<h3 id="aad-authentication-for-web-authentication">AAD authentication for Web Authentication</h3>
<p>The verification and the authentication of users who have the correct authority to create a certificate on an issuing service is paramount,
straightening the issuing web service with AAD allowing the ability for Organization level access levels and User and Groups policies.</p>
<p>Web Authentication to the certificate issuing service with AAD is documented in detail in the
<a href="/deployment/web-authentication/">Deployment Section</a> of the documentation.</p>
<p>Read about <a href="/deep-dives/log-analytics/">Log Analytics</a> in the next section.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a169c7f5e8566e46f73dcc12b00ec4ca">5 - Azure Log Analytics</h1>
    <div class="lead">Deep Dive into Azure Log Analytics workspaces and linking to an Azure Log Analytics Cluster.</div>
	<h2 id="azure-log-analytics">Azure Log Analytics</h2>
<p>The Azure Log Analytics agent collects telemetry from Azure resources, on-premises machines, and machines monitored by System Center Operations Manager and sends the collected data to your Log Analytics Workspace in Azure Monitor.
The Log Analytics agent also supports insights and other services in Azure Monitor such as VM insights and Azure Security Center.</p>
<h3 id="azure-log-analytics-workspaces">Azure Log Analytics Workspaces</h3>
<p>Log Analytics is a tool in the Azure portal to edit and run log queries from data collected by Azure Monitor Logs and interactively analyze their results.
You can use Log Analytics queries to retrieve records that match particular criteria, identify trends, analyze patterns, and provide a variety of insights into your data.</p>
<h3 id="azure-log-analytics-cluster">Azure Log Analytics Cluster</h3>
<p>Azure Monitor Logs Dedicated Clusters are a deployment option that enables advanced capabilities for Azure Monitor Logs customers. Customers can select which of their Log Analytics workspaces should be hosted on dedicated clusters.
Capabilities that require dedicated clusters currently include: Customer-managed Keys, Double encryption, Availability Zones, Lockbox and Multi-workspace.</p>
<blockquote>
<p><strong>NOTE:</strong> Dedicated clusters require customers to commit for at least 500 GB of data ingestion per day.</p>
</blockquote>
<h4 id="linking-log-analytics-workspaces-to-a-log-analytics-cluster-in-your-current-subscription">Linking Log Analytics Workspaces to a Log Analytics Cluster in your current subscription</h4>
<ul>
<li>To link an existing Log Analytics Cluster to a <code>COVID 19 EU Digital Green Certificate Project</code>&rsquo;s Log Analytics Workspaces, finstly enable <code>enable_log_analytics_workspace</code> to <code>true</code> and add the resource id of the cluster in <code>log_analytics_cluster_id</code> in <code>terraform.tfvars</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-terraform" data-lang="terraform"><span style="color:#000;font-weight:bold">...</span>
<span style="color:#c4a000">enable_log_analytics_workspace</span>      = <span style="color:#204a87;font-weight:bold">true</span>
<span style="color:#c4a000">log_analytics_cluster_id</span>            = <span style="color:#4e9a06">&#34;&lt;id&gt;&#34;</span>
<span style="color:#000;font-weight:bold">...</span>
</code></pre></div><h3 id="azure-log-analytics-solution">Azure Log Analytics Solution</h3>
<p>Monitoring solutions in Azure Monitor provide analysis of the operation of an Azure application or service.</p>
<h4 id="azure-log-analytics-solutions-table">Azure Log Analytics Solutions table</h4>
<table>
<thead>
<tr>
<th>Log Analytics Solution</th>
<th>Publisher</th>
<th>Product</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ContainerInsights</td>
<td>Microsoft</td>
<td>OMSGallery/ContainerInsights</td>
<td>Container insights is a feature designed to monitor the performance of container workloads.</td>
</tr>
<tr>
<td>KeyVaultAnalytics</td>
<td>Microsoft</td>
<td>OMSGallery/KeyVaultAnalytics</td>
<td>Key Vault insights provides comprehensive monitoring of your key vaults by delivering a unified view of your Key Vault requests, performance, failures, and latency.</td>
</tr>
<tr>
<td>SecurityInsights</td>
<td>Microsoft</td>
<td>OMSGallery/SecurityInsights</td>
<td>Microsoft Azure Sentinel is a scalable, cloud-native, security information event management (SIEM) and security orchestration automated response (SOAR) solution. Azure Sentinel delivers intelligent security analytics and threat intelligence across the enterprise, providing a single solution for alert detection, threat visibility, proactive hunting, and threat response.The Azure Sentinel PowerShell module (Az.SecurityInsights) allows you to interact with the following components: * Incidents * Analytics Rules (Alert Rules)</td>
</tr>
<tr>
<td>NetworkMonitoring</td>
<td>Microsoft</td>
<td>OMSGallery/NetworkMonitoring</td>
<td>Network Monitoring insights is a feature designed to monitor the performance of Network Monitoring traffic.</td>
</tr>
<tr>
<td>ServiceMap</td>
<td>Microsoft</td>
<td>OMSGallery/ServiceMap</td>
<td>Service Map automatically discovers application components on Windows and Linux systems and maps the communication between services. With Service Map, you can view your servers in the way that you think of them: as interconnected systems that deliver critical services. Service Map shows connections between servers, processes, inbound and outbound connection latency, and ports across any TCP-connected architecture, with no configuration required other than the installation of an agent.</td>
</tr>
<tr>
<td>AzureActivity</td>
<td>Microsoft</td>
<td>OMSGallery/AzureActivity</td>
<td>The Activity log is a platform log in Azure that provides insight into subscription-level events. This includes such information as when a resource is modified or when a virtual machine is started. You can view the Activity log in the Azure portal or retrieve entries with PowerShell and CLI. This article provides details on viewing the Activity log and sending it to different destinations.</td>
</tr>
<tr>
<td>Updates</td>
<td>Microsoft</td>
<td>OMSGallery/Updates</td>
<td>Enable Update Management using Azure Resource Manager template</td>
</tr>
<tr>
<td>SQLAssessmentPlus</td>
<td>Microsoft</td>
<td>OMSGallery/SQLAssessmentPlus</td>
<td>SQL Health Check solution to assess the risk and health of your server environments on a regular interval, provides a prioritized list of recommendations specific to your deployed server infrastructure. The recommendations are categorized across six focus areas which help you quickly understand the risk and take corrective action</td>
</tr>
</tbody>
</table>
<h3 id="azure-log-analytics-diagnostic-setting">Azure Log Analytics Diagnostic Setting</h3>
<p>Manages a Diagnostic Setting for an existing Resource</p>
<h4 id="azure-log-analytics-diagnostic-setting-table">Azure Log Analytics Diagnostic Setting table</h4>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Log</th>
<th>Metric</th>
</tr>
</thead>
<tbody>
<tr>
<td>KeyVault</td>
<td>AuditEvent</td>
<td>AllMetrics</td>
</tr>
<tr>
<td>ACR</td>
<td>ContainerRegistryRepositoryEvents</td>
<td>ContainerRegistryLoginEvents</td>
</tr>
<tr>
<td>MySQL Server</td>
<td>MySqlAuditLogs, MySqlSlowLogs</td>
<td>AllMetrics</td>
</tr>
<tr>
<td>AKS</td>
<td>oms_agent</td>
<td>oms_agent</td>
</tr>
</tbody>
</table>
<p>Read about <a href="/terraform/">Terraform</a> in the next section.</p>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="EU Digital COVID Certificate" aria-label="EU Digital COVID Certificate">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/eu-digital-green-certificates/" aria-label="EU Digital COVID Certificate">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Linux Foundation Public Health Slack" aria-label="Linux Foundation Public Health Slack">
    <a class="text-white" target="_blank" rel="noopener" href="https://slack.lfph.io/" aria-label="Linux Foundation Public Health Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 Microsoft All Rights Reserved</small>
        <small class="ml-1"><a href="https://privacy.microsoft.com/en-us/privacystatement" target="_blank" rel="noopener">Privacy Policy</a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>




 














<script src="/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js" integrity="sha256-OxcsE7YsK&#43;qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin="anonymous"></script>




  </body>
</html>
